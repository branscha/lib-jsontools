<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Dec 15, 2012
 | Rendered using Apache Maven Fluido Skin 1.2.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JSON Tools - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20121215" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>JSON Tools</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2012-12-15</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 2.0</li>
                      
                
            
      
                  </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                                    <h3>Overview</h3>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../docs/index.html" title="Documentation">Documentation</a>
            </li>
                  <li class="none">
                          <a href="../apidocs/index.html" title="JSONTools API">JSONTools API</a>
            </li>
          </ul>
                      
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>JSONMapper vs. JSONSerializer (f001)</h1><div class="section"><h2>JSONMapper<a name="JSONMapper"></a></h2>
<ul>
  <li>The JSON text is be clean and straightforward. No meta information is stored in the JSON text.</li>
  <li>The data contained in the JSON text is not dependent on the Java programming language. You do not need to know that the data was produced in Java or that it will be parsed in Java.</li>
  <li>Not all Java data structures can be mapped: recursive structures, differentiation between primitives and reference types are not possible. If a trade-off has to be made, it will be in favor of the JSON format.</li>
</ul><p>When we take the class Person</p>
<div class="source"><pre class="prettyprint">public class Person {
    private String name;
    private String phoneNumber;
    private int age;
    // Getters and setters omitted.
    // ...
}
</pre></div><p>We can generate the JSON with this code snippet:</p>
<div class="source"><pre class="prettyprint">    // Create a person.
    Person p = new Person();
    p.setName(&quot;Mr. Jason Tools&quot;);
    p.setPhoneNumber(&quot;0123456789&quot;);
    p.setAge(40);
    // Map and print.
    JSONMapper mapper = new JSONMapper();
    JSONValue json = mapper.toJSON(p);
    System.out.println(json.render(true));
</pre></div><p>And we get a nice, simple JSON as a result:</p>
<div class="source"><pre class="prettyprint">{
   &quot;age&quot; : 40,
   &quot;name&quot; : &quot;Mr. Jason Tools&quot;,
   &quot;phoneNumber&quot; : &quot;0123456789&quot;
}
</pre></div></div><div class="section"><h2>JSONSerializer<a name="JSONSerializer"></a></h2>
<ul>
  <li>The serialization tool is an alternative for native <a class="externalLink" href="http://java.sun.com/j2se/1.5.0/docs/guide/serialization/">serialization</a> (regarding functionality).</li>
  <li>The serialization preserves the difference between reference types and primitive types.</li>
  <li>Recursive types are supported without putting the (de)serializer into an infinite loop.</li>
  <li>Instance identity is preserved. If the same instance is referenced from other instances, the same structure is reconstructed during de-serialization. There should only be one instance representing the original referenced instance.</li>
  <li>The content of the JSON text can contain meta information which can help de-serialization. We are allowed to add extra information in the JSON text in order to accomplish the other goals.</li>
</ul><p>When we create a Person instance (from above) we can do the serialization with this snippet</p>
<div class="source"><pre class="prettyprint">    // Create a person.
    Person p = new Person();
    p.setName(&quot;Mr. Jason Tools&quot;);
    p.setPhoneNumber(&quot;0123456789&quot;);
    p.setAge(40);
    // Serialize and print.
    JSONSerializer serializer = new JSONSerializer();
    JSONValue json = serializer.marshal(p);
    System.out.println(json.render(true));
</pre></div><p>And the resulting JSON looks like this. You can see that it contains lots of meta information and is not so pretty to look at.</p>
<div class="source"><pre class="prettyprint">{
   &quot;&gt;&quot; : &quot;O&quot;,
   &quot;&amp;&quot; : &quot;id0&quot;,
   &quot;c&quot; : &quot;com.sdicons.json.examples.Person&quot;,
   &quot;=&quot; :
      {
         &quot;age&quot; :
            {
               &quot;&gt;&quot; : &quot;O&quot;,
               &quot;&amp;&quot; : &quot;id1&quot;,
               &quot;c&quot; : &quot;java.lang.Integer&quot;,
               &quot;=&quot; : &quot;40&quot;
            },
         &quot;name&quot; :
            {
               &quot;&gt;&quot; : &quot;O&quot;,
               &quot;&amp;&quot; : &quot;id2&quot;,
               &quot;c&quot; : &quot;java.lang.String&quot;,
               &quot;=&quot; : &quot;Mr. Jason Tools&quot;
            },
         &quot;phoneNumber&quot; :
            {
               &quot;&gt;&quot; : &quot;O&quot;,
               &quot;&amp;&quot; : &quot;id3&quot;,
               &quot;c&quot; : &quot;java.lang.String&quot;,
               &quot;=&quot; : &quot;0123456789&quot;
            }
      }
}
</pre></div></div>
                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2012.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
