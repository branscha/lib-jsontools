<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Dec 15, 2012
 | Rendered using Apache Maven Fluido Skin 1.2.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JSON Tools - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20121215" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>JSON Tools</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2012-12-15</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 2.0</li>
                      
                
            
      
                  </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                                    <h3>Overview</h3>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../docs/index.html" title="Documentation">Documentation</a>
            </li>
                  <li class="none">
                          <a href="../apidocs/index.html" title="JSONTools API">JSONTools API</a>
            </li>
          </ul>
                      
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>1. JSON Tools</h1><div class="section"><h2>1.1. Introduction<a name="a1.1._Introduction"></a></h2><p>JSON (JavaScript Object Notation) is a file format to represent data. It is similar to XML but has different characteristics. It is suited to represent configuration information, implement communication protocols and so on. XML is more suited to represent annotated documents. JSON parsing is very fast, the parser can be kept lean and mean. It is easy for humans to read and write. It is based on a subset of the <a class="externalLink" href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">JavaScript</a> programming language. JSON is a text format that is completely language independent but uses conventions that are familiar to programmers of the C-family of languages. These properties make JSON an ideal data-interchange language. The format is specified on the <a class="externalLink" href="http://www.json.org/">JSON web site</a>, for the details please visit this site.</p><p>JSON is a simple format. As a result, the parsing and rendering is fast and easy, you can concentrate on the content of the file in stead of the format. In XML it is often difficult to fully understand all features (e.g. name spaces, validation, ). As a result, XML tends to become part of the problem i.s.o. the solution. In JSON everything is well defined, all aspects of the representation are clear, you can concentrate on how you are going to represent your application concepts. The following example comes from the <a class="externalLink" href="http://www.json.org/example.html">JSON example page</a>.</p>
<div class="source"><pre class="prettyprint">{ &quot;widget&quot; : {
      &quot;debug&quot; : &quot;on&quot;,
      &quot;text&quot; : {
         &quot;onMouseUp&quot; : &quot;sun1.opacity = (sun1.opacity / 100) * 90;&quot;,
         &quot;hOffset&quot; : 250,
         &quot;data&quot; : &quot;Click Here&quot;,
         &quot;alignment&quot; : &quot;center&quot;,
         &quot;style&quot; : &quot;bold&quot;,
         &quot;size&quot; : 36,
         &quot;name&quot; : &quot;text1&quot;,
         &quot;vOffset&quot; : 100 },
      &quot;image&quot; : {
         &quot;hOffset&quot; : 250,
         &quot;alignment&quot; : &quot;center&quot;,
         &quot;src&quot; : &quot;Images/Sun.png&quot;,
         &quot;name&quot; : &quot;sun1&quot;,
         &quot;vOffset&quot; : 250 },
      &quot;window&quot; : {
         &quot;width&quot; : 500,
         &quot;height&quot; : 500,
         &quot;title&quot; : &quot;Sample Konfabulator Widget&quot;,
         &quot;name&quot; : &quot;main_window&quot; } } }
</pre></div><p>This project wants to provide the tools to manipulate and use the format in a Java application. </p></div><div class="section"><h2>1.2. Acknowledgments<a name="a1.2._Acknowledgments"></a></h2><p>The JSON Tools library is the result of many suggestions, contributions and reviews from the users. Without the feedback the library would not be as versatile and stable as it is today. Thank you for all the feedback that makes the library better.</p></div><div class="section"><h2>1.3. License<a name="a1.3._License"></a></h2><p>The library is released under the free MIT license.</p></div><div class="section"><h2>1.4. JSON Extensions<a name="a1.4._JSON_Extensions"></a></h2><p>Comments. I added line comments which start with #. It is easier for the examples to be able to put comments in the file. The comments are not retained, they are skipped and ignored.</p><h1>2. The Tools</h1></div><div class="section"><h2>2.1. Parsing (Text/File/Stream -&gt; JSONValue)<a name="a2.1._Parsing_TextFileStream_-_JSONValue"></a></h2><p>The most important tool in the tool set is the parser, it enables you to convert a JSON file or stream into a Java model. All JSON objects remember the position in the file (line, column), so if you are doing post processing of the data you can always refer to the position in the original file. </p><p>Invoking the parser is very simple as you can see in this example:</p>
<div class="source"><pre class="prettyprint">JSONParser lParser = new JSONParser(JSONTest.class.getResourceAsStream(&quot;/config.json&quot;));
JSONValue lValue = lParser.nextValue();
</pre></div><p>The JSON model is a hierarchy of types, the hierarchy looks like this:</p>
<div class="source"><pre class="prettyprint">JSONValue
   JSONComplex
      JSONObject
      JSONArray
   JSONSimple
      JSONNull
      JSONBoolean
      JSONString
      JSONNumber
         JSONInteger
         JSonDecimal
</pre></div></div><div class="section"><h2>2.2. Rendering (JONValue -&gt; Text/Streams/)<a name="a2.2._Rendering_JONValue_-_TextStreamsnull"></a></h2><p>The classes in the JSON model can render themselves to a String. You can choose to render to a pretty form, nicely indented and easily readable by humans, or you can render to a compact form, no spaces or indentations are provided. This is suited to use on a communications channel when you are implementing a communication protocol.</p><p>In the introduction we already saw a pretty rendering of some widget data. The same structure can be rendered without pretty printing in order to reduce white space. This can be an interesting feature when space optimization is very important, e.g. communication protocols.</p></div><div class="section"><h2>2.3. Mapping (Nice,readable JSONValue &lt;-&gt; Java Domain)<a name="a2.3._Mapping_Nicereadable_JSONValue_-_Java_Domain"></a></h2><div class="section"><h3>When to choose mapping<a name="When_to_choose_mapping"></a></h3><p>Both mapping tool (this section) and serialization tool can be used to convert Java into JSON and vice versa. These tools have different goals. The goals of the mapper are:</p>
<ul>
  <li>The JSON text should be clean and straightforward. So no meta information can be stored.</li>
  <li>The data contained in the JSON text should not be dependent on the Java programming language. You do not need to know that the data was produced in Java or that it will be parsed in Java.</li>
  <li>Not all Java data structures have to be mapped: recursive structures, differentiation between primitives and reference types are less important. If a trade-off has to be made, it will be in favor of the JSON format.</li>
</ul><p>The JSON from the mapper can be easily interpreted in another language. An example could be JavaScript in the context of an <a class="externalLink" href="http://en.wikipedia.org/wiki/AJAX">AJAX</a> communication with the server. The service could be talking some JSON protocol. It is not difficult to map Java data to JSON. It can be done like this:</p>
<div class="source"><pre class="prettyprint">import com.sdicons.json.mapper.*;
...
JSONMapper mapper = new JSONMapper();
JSONValue obj = mapper.toJSON(myPojo);
</pre></div><p>Converting back to Java is done like this:</p>
<div class="source"><pre class="prettyprint">import com.sdicons.json.mapper.*;
...
JSONMapper mapper = new JSONMapper();
MyBean bean = (MyBean) mapper.toJava(obj, MyBean.class);
</pre></div><p>Note that the mapper needs some help to convert JSON into Java. As we stated in the goals of the mapper, we cannot store meta information in the JSON text. As a result the mapper cannot know how the JSON text should be mapped. Therefore we pass a class to the mapper (line 3) so that the mapper can exploit this information. In fact, there are two kinds of information the mapper can work with (1) classes as in the example and (2) types e.g. List&lt;Integer&gt;. The rationale for this might be illustrated by the following example. Consider a JSON text </p>
<div class="source"><pre class="prettyprint">[ &quot;01/12/2006&quot;, &quot;03/12/2007&quot;, ... ]
</pre></div><p>This list could be interpreted as a list of Strings, but also as a list of Dates. The mapper has no idea what to do with it. When we pass the type LinkedList&lt;Date&gt; or the type LinkedList&lt;String&gt;, the mapper can exploit this type information and do the right thing. Also note that the mapper automatically exploits this information when the outer layer is a bean, and the list is one of the beans properties.</p></div><div class="section"><h3>The mapping process<a name="The_mapping_process"></a></h3><p>The mapper uses a repository of class mappers. Each class mapper is specialized in mapping instances of a certain class or interface. The mappers are organized in the repository in a hierarchical way, ordered according to the class hierarchy. When mapping an object, the mapper will try to find the most specific class mapper available. The default hierarchy looks like this:</p>
<div class="source"><pre class="prettyprint">// Calling this method:
System.out.println(mapper.getRepository().prettyPrint());

// Results in this output:
java.lang.Object
   java.lang.String
   java.lang.Boolean
   java.lang.Byte
   java.lang.Short
   java.lang.Integer
   java.lang.Long
   java.lang.Float
   java.lang.Double
   java.math.BigInteger
   java.math.BigDecimal
   java.lang.Character
   java.util.Date
   java.util.Collection
   java.util.Map
</pre></div><p>The basic Java types (byte, int, char, , arrays) are handled internally by the mapper, no helpers are used for this. For all reference types, the repository is used to find an appropriate handler. If there is no specific helper available, the mapper will eventually use the root mapper. Currently there are two flavors available of the root mapper that handles java.lang.Object.</p>
<ul>
  <li>ObjectMapperProps is the default helper for objects that have no specific helper. It tries to access the object as a JavaBean. The object has to have an empty constructor, and the helper will only look at the getters/setters to retrieve the contents of the bean. This helper is the default root helper for compatibility reasons with earlier versions of the JSON Tools. The JavaBean helper can be explicitly activated by calling the method JSONMapper.useJavaBeanAccess().</li>
  <li>ObjectMaperFields is optional, this helper will access the fields directly, no getters or setters are needed. The fields can even be private. This POJO helper can be activated by calling the method JSONMapper.usePojoAccess();.</li>
</ul><p>It is also possible to add your own mapper helpers to the repository. As you can see, the default repository is only two levels deep, but it can be much more specialized according to the business needs. There are two different ways to create a helper or to influence the mapping process.</p>
<ul>
  <li>@JSONConstructorArgs, @JSONConstructor. If the ObjectHelperDirect is activated as described above, then the class that you want to map can simply annotate two methods with these annotations. The @JSONConstructorArgs annotation has to be used to mark a method that returns an object array. This method will be called by the mapping process when an instance of the class is mapped from the Java model to JSON. These values will be used by the mapper when the instance is mapped from JSON to Java by invoking the constructor that is annotated with the @JSONConstructor annotation.</li>
  <li>Another way to create a helper is to create a new class, derived from ClassMapper, and add it to the mapper repository by calling the method JSONMapper.addHelper(myHelper).</li>
</ul><p>Here is an example of an annotated class. It is the first solution, in combination with ObjectMapperFields. Do not forget to activate the POJO mapper.</p>
<div class="source"><pre class="prettyprint">public class MyDate
{
    // The fields will be mapped as well, independent of the 
    // constructor values.
    private Date theDate;
    private String theTimeZone;

    // Because of this annotation, the ObjectMapperDirect will call this 
    // function and serialize the values in the object array. These values 
    // will be used later on to call the annotated constructor. 
    @JSONConstructorArgs   
    public Object[] getTime()
    {
         return new Object[]{theDate.getTime(), theTimeZone};
    }

    // This constructor will be called with the same values that were 
    // provided by the other annotated method.
    @JSONConstructor
    public MyDate(long aTime, String aTimeZone)
    {
        theDate = new Date(aTime);
        theTimeZone = aTimeZone;
    }        
}
</pre></div></div></div><div class="section"><h2>2.4. Serialization (Artificial JSONValues &lt;-&gt; Java Domain)<a name="a2.4._Serialization_Artificial_JSONValues_-_Java_Domain"></a></h2><p>Both mapping tool and serialization tool (this section) can be used to convert Java into JSON and vice versa. These tools have different goals. The goals of the serializer are:</p>
<ul>
  <li>The serialization tool could be an alternative for native <a class="externalLink" href="http://java.sun.com/j2se/1.5.0/docs/guide/serialization/">serialization</a> (regarding functionality). This does not mean that all kinds of classes are supported out of the box, but it means that the general mechanism should be there and there should be an easy way to extend the mechanism so that we can deal with all classes.</li>
  <li>The serialization tool should preserve the difference between reference types and primitive types.</li>
  <li>Recursive types should be supported without putting the (de)serializer into an infinite loop.</li>
  <li>Instance identity should be preserved. If the same instance is referenced from other instances, the same structure should be reconstructed during de-serialization. There should only be one instance representing the original referenced instance.</li>
  <li>The content of the JSON text can contain meta information which can help de-serialization. We are allowed to add extra information in the JSON text in order to accomplish the other goals.</li>
</ul><p>This tool enables you to render POJOs to a JSON file. It is similar to the XML serialization in Java or the XML Stream library, but it uses the JSON format. The result is a very fast text serialization, you can customize it if you want. Marshaling (converting from Java to JSON) as well as un-marshaling is very straightforward:</p>
<div class="source"><pre class="prettyprint">import com.sdicons.json.serializer.marshal.*;
...
myTestObject = ...
JSONSerializer marshal = new JSONSerializer();
JSONObject result = marshal.marshal(myTestObject);
</pre></div><p>And the other way around:</p>
<div class="source"><pre class="prettyprint">import com.sdicons.json.serializer.marshal.*;
...
JSONObject myJSONObject = ...
SerializerValue lResult = marshal.unmarshal(myJSONObject);
... = lResult.getReference()
</pre></div><p>You might wonder what the SerializerValue is all about, why is un-marshaling giving an extra object back? The answer is that we went to great lengths to provide marshaling or un-marshaling for both Java reference types as Java basic types. A basic type needs to be fetched using specific methods (there is no other way). In order to provide these specific methods we need an extra class.</p><div class="section"><h3>Primitive Types<a name="Primitive_Types"></a></h3><p>Primitive types are represented like this.</p>
<div class="source"><pre class="prettyprint">{ &quot;&gt;&quot; : &quot;P&quot;,
  &quot;=&quot; : &quot;1&quot;,
  &quot;t&quot; : &quot;int&quot; }
</pre></div><p>The &gt; attribute with value P indicates a primitive type. The = attribute contains the representation of the value and the t attribute contains the original Java type.</p></div><div class="section"><h3>Reference Types<a name="Reference_Types"></a></h3><p>An array is defined recursively like this. We can see the &gt; attribute this time with the A value, indicating that the object represents an array. The C attribute contains the type representation for arrays as it is defined in Java. The = attribute contains a list of the values.</p>
<div class="source"><pre class="prettyprint">{ &quot;&gt;&quot; : &quot;A&quot;,
  &quot;c&quot; : &quot;I&quot;,
  &quot;=&quot; :
     [
         {
            &quot;&gt;&quot; : &quot;P&quot;,
            &quot;=&quot; : &quot;0&quot;,
            &quot;t&quot; : &quot;int&quot; },
         {
            &quot;&gt;&quot; : &quot;P&quot;,
            &quot;=&quot; : &quot;1&quot;,
            &quot;t&quot; : &quot;int&quot; },
         {
            &quot;&gt;&quot; : &quot;P&quot;,
            &quot;=&quot; : &quot;2&quot;,
            &quot;t&quot; : &quot;int&quot; },
         {
            &quot;&gt;&quot; : &quot;P&quot;,
            &quot;=&quot; : &quot;3&quot;,
            &quot;t&quot; : &quot;int&quot; },
         {
            &quot;&gt;&quot; : &quot;P&quot;,
            &quot;=&quot; : &quot;4&quot;,
            &quot;t&quot; : &quot;int&quot; },
         {
            &quot;&gt;&quot; : &quot;P&quot;,
            &quot;=&quot; : &quot;5&quot;,
            &quot;t&quot; : &quot;int&quot; } ] }
</pre></div><p>An object is represented like this.</p>
<div class="source"><pre class="prettyprint">{
   &quot;&gt;&quot; : &quot;O&quot;,
   &quot;c&quot; : &quot;com.sdicons.json.serializer.MyBean&quot;,
   &quot;&amp;&quot; : &quot;id0&quot;,
   &quot;=&quot; : {
      &quot;int2&quot; :
        { &quot;&gt;&quot; : &quot;null&quot; },
      &quot;ptr&quot; :
        { &quot;&gt;&quot; : &quot;R&quot;,
          &quot;*&quot; : &quot;id0&quot; },
      &quot;name&quot; :
        { &quot;&gt;&quot; : &quot;O&quot;,
          &quot;c&quot; : &quot;java.lang.String&quot;,
          &quot;&amp;&quot; : &quot;id2&quot;,
          &quot;=&quot; : &quot;This is a test...&quot; },
      &quot;int1&quot; :
        { &quot;&gt;&quot; : &quot;null&quot; },
      &quot;id&quot; :
        { &quot;&gt;&quot; : &quot;O&quot;,
          &quot;c&quot; : &quot;java.lang.Integer&quot;,      
          &quot;&amp;&quot; : &quot;id1&quot;,
          &quot;=&quot; : &quot;1003&quot; } } }
</pre></div><p>The &gt; marker contains O for object this time. The C attribute contains a fully qualified class name. The &amp; contains a unique id, it can be used to refer to the object so that we are able to represent recursive data structures. The = attribute contains a JSON object having a property for each JavaBean property. The property value is recursively a representation of a Java object. Note that there is a special notation to represent Java null values.</p>
<div class="source"><pre class="prettyprint">{ &quot;&gt;&quot; : &quot;null&quot; }
</pre></div><p>Also note that you can refer to other objects with the reference object which looks like this:</p>
<div class="source"><pre class="prettyprint">{ &quot;&gt;&quot; : &quot;R&quot;,
  &quot;*&quot; : &quot;id0&quot; }
</pre></div></div><div class="section"><h3>The serialization process<a name="The_serialization_process"></a></h3><p>The serialization process uses the same mechanism as the mapping process, but the repository contains serialization helpers in stead of mapping helpers. There are also two different flavors of root serializers available:</p>
<ul>
  <li>ObjectSerializerPrps Serializes an instance as a JavaBean. This is the default for compatibility reasons. You can explicitly activate it by calling ((JSONSerializer) marshal).useJavaBeanAccess().</li>
  <li>ObjectSerializerFields Serializes an instance as a POJO. You an activate this by calling the method ((JSONSerializer) marshal).usePojoAccess().</li>
</ul><p>You can customize the serializer for your own business model in two ways.</p>
<ul>
  <li>@JSONConstructorArgs, @JSONConstructor in combination with the ObjectSerializerFields.</li>
  <li>Deriving your own helper class from ClassSerializer and adding it with the method call ((JSONSerializer) marshal).addHelper(myHelper).</li>
</ul><p>Here is an example of an annotated class.</p>
<div class="source"><pre class="prettyprint">public class MyDate
{
    // These private fields will be serialized in addition to the
    // constructor values.
    private Date theDate;
    private String theTimeZone;

    // This method will be called during serialization to obtain the
    // values that can later be used to call the constructor.
    @JSONConstructorArgs
    public Object[] getTime()
    {
        return new Object[]{theDate.getTime(), theTimeZone};
    }

    // This constructor will be called with the values that were provided
    // by the other annotated method.
    @JSONConstructor
    public MyDate(long aTime, String aTimeZone)
    {
        theDate = new Date(aTime);
        theTimeZone = aTimeZone;
    }
}
</pre></div><p>The result of the serialization looks like the following listing. As you can see, there are two extra artificial fields cons-0 and cons-1 which are generated automatically by the serializer, these properties contain the values which were provided by the method which was annotated with @JSONConstructorArgs. These same properties will be used for calling the @JSONConstructor annotated constructor.</p>
<div class="source"><pre class="prettyprint">{ &quot;&gt;&quot; : &quot;O&quot;,
  &quot;&amp;&quot; : &quot;id0&quot;,
  &quot;c&quot; : &quot;MyDate&quot;,
  &quot;=&quot; : {
     &quot;cons-0&quot; : {    
        &quot;&gt;&quot; : &quot;O&quot;,
        &quot;&amp;&quot; : &quot;id1&quot;,
        &quot;c&quot; : &quot;java.lang.Long&quot;,
        &quot;=&quot; : &quot;1212717107857&quot; },
     &quot;cons-1&quot; : {          
        &quot;&gt;&quot; : &quot;O&quot;,
        &quot;&amp;&quot; : &quot;id2&quot;,
        &quot;c&quot; : &quot;java.lang.String&quot;,
        &quot;=&quot; : &quot;CEST&quot; },
     &quot;theDate&quot; : {
        &quot;&gt;&quot; : &quot;O&quot;,
        &quot;&amp;&quot; : &quot;id3&quot;,
        &quot;c&quot; : &quot;java.util.Date&quot;,
        &quot;=&quot; : &quot;2008-06-06 03:51:47,857 CEST&quot; },
     &quot;theTimeZone&quot; : {
        &quot;&gt;&quot; : &quot;R&quot;,
        &quot;*&quot; : &quot;id2&quot; } } }
</pre></div></div></div><div class="section"><h2>2.5. Validation<a name="a2.5._Validation"></a></h2><p>This tool enables you to validate your JSON files. You can specify which content you expect, the validator can check these constraints for you. The system is straightforward to use and extend. You can add your own rules if you have specific needs. The validation definition is in JSON - as you would expect. Built-in rules:</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; : &quot;Some rule name&quot;,
  &quot;type&quot; : &quot;&amp;lt;built-in-type&gt;&quot; }
</pre></div><p>A validation document consists of a validation rule. This rule will be applied to the JSONValue that has to be validated. The validation rules can be nested, so it is possible to create complex rules out of simpler ones. The type attribute is obligatory. The name is optional, it will be used during error reporting and for re-use. The predefined rules are listed below. The name can come in handy while debugging. The name of the failing validation will be available in the exception. If you give each rule its own name or number, you can quickly find out on which predicate the validation fails. Here is an example of how you can create a validator.</p>
<div class="source"><pre class="prettyprint">// First we create a parser to read the validator specification which is 
// defined using the (what did you think) JSON format.
// The validator definition is located in the &quot;my-validator.json&quot; resource in the
// class path.
JSONParser lParser = 
   new JSONParser(
      MyClass.class.getResourceAsStream(&quot;my-validator.json&quot;));

// We parse the validator spec and convert it into a Java representation.
JSONObject lValidatorObject = (JSONObject) lParser.nextValue();

// Finally we can convert our validator using the Java model.
Validator lValidator = new JSONValidator(lValidatorObject);

And now that you have the validator, you can start validating your data.

// First we create a parser to read the data. 
JSONParser lParser = new JSONParser(MyClass.class.getResourceAsStream(&quot;data.json&quot;));

// We parse the data file and convert it into a Java representation.
JSONValue lMyData = lParser.nextValue();

// Now we can use the validator to check on our data. We can test if the data has the 
// correct format or not. 
lValidator.validate(lMyData);
</pre></div><div class="section"><h3>Basic Rules<a name="Basic_Rules"></a></h3><p>These rules are the basic rules in boolean logic. </p><div class="section"><h4>type:true<a name="nulltypenull:nulltruenull"></a></h4><p>This rule always succeeds.</p><p>A validator that will succeed on all JSON data structures. </p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;This validator validates *everything*&quot;,
  &quot;type&quot; :&quot;true&quot; }
</pre></div></div><div class="section"><h4>type:false<a name="nulltypenull:nullfalsenull"></a></h4><p>This rule always fails.</p><p>A validator that rejects all data structures.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;This validator rejects all&quot;,
  &quot;type&quot; :&quot;false&quot; }
</pre></div></div><div class="section"><h4>type:and<a name="nulltypenull:nullandnull"></a></h4><p>All nested rules have to hold for the and rule to succeed.</p>
<ul>
  <li><b>rules</b> Array of nested rules.</li>
</ul><p>A validator that succeeds if the object under scrutiny is both a list and has content consisting of integers.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;List of integers&quot;,
  &quot;type&quot; :&quot;and&quot;,
  &quot;rules&quot; : [ {&quot;type&quot;:&quot;array&quot;}, {&quot;type&quot;:&quot;content&quot;,&quot;rule&quot;:{&quot;type&quot;:&quot;int&quot;} } ] }
</pre></div></div><div class="section"><h4>type:or<a name="nulltypenull:nullornull"></a></h4><p>One of the nested rules has to succeed for this rule to succeed.</p>
<ul>
  <li><b>rules</b> Array of nested rules.</li>
</ul><p>A validator that validates booleans or integers.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;Null or int&quot;,
  &quot;type&quot; :&quot;or&quot;,
  &quot;rules&quot; : [ {&quot;type&quot;:&quot;int&quot;}, {&quot;type&quot;:&quot;bool&quot;} ] }
</pre></div></div><div class="section"><h4>type:not<a name="nulltypenull:nullnotnull"></a></h4><p>The rule succeeds if the nested rule fails and vice versa.</p>
<ul>
  <li><b>rule</b> A single nested rule.</li>
</ul></div></div><div class="section"><h3>Type Rules<a name="Type_Rules"></a></h3><p>These rules are predefined rules which allows you to specify type restrictions on the JSON data elements. The meaning of these predicates is obvious, they will not be discussed. See the examples for more information. Following type clauses can be used: </p>
<ul>
  <li>type:complex</li>
  <li>type:array</li>
  <li>type:object</li>
  <li>type:simple</li>
  <li>type:null</li>
  <li>type:bool</li>
  <li>type:string</li>
  <li>type:number</li>
  <li>type:int</li>
  <li>type:decimal</li>
</ul></div><div class="section"><h3>Attribute Rules<a name="Attribute_Rules"></a></h3><p>These rules check for attributes of certain types.</p><div class="section"><h4>type:length<a name="nulltypenull:nulllengthnull"></a></h4><p>Applicable to complex objects and string objects. The rule will fail if the object under investigation has another type. For array objects the number of elements is counted, for objects the number of properties and for strings, the length of its value in Java (not the JSON representation; $backslash$n in the file counts as a single character).</p>
<ul>
  <li><b>min</b> (optional) The minimal length of the array.</li>
  <li><b>max</b> (optional) The maximal length of the array.</li>
</ul><p>A validator that only wants arrays of length 5.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot;  :&quot;Array of length 5&quot;,
  &quot;type&quot;  :&quot;and&quot;,
  &quot;rules&quot; : [{&quot;type&quot;:&quot;array&quot;}, {&quot;type&quot;:&quot;length&quot;,&quot;min&quot;:5,&quot;max&quot;:5}] }
</pre></div></div><div class="section"><h4>type:range<a name="nulltypenull:nullrangenull"></a></h4><p>Applicable to JSONNumbers, i.e. JSONInteger and JSONDecimal.}</p>
<ul>
  <li><b>min</b> (optional) The minimal value.</li>
  <li><b>max</b> (optional) The maximal value.</li>
</ul><p>Allow numbers between 50 and 100.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;Range validator&quot;,
  &quot;type&quot; :&quot;range&quot;,
  &quot;min&quot; : 50,
  &quot;max&quot; : 100 }
</pre></div></div><div class="section"><h4>type:enum<a name="nulltypenull:nullenumnull"></a></h4><p>The value has to occur in the provided list. The list can contain simple types as well as complex nested types.</p>
<ul>
  <li><b>values</b> An array of JSON values.</li>
</ul><p>An enum validator.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;Enum validator&quot;,
  &quot;type&quot; :&quot;enum&quot;,
  &quot;values&quot; : [13, 17, &quot;JSON&quot;, 123.12, [1, 2, 3], {&quot;key&quot;:&quot;value&quot;}] }
</pre></div></div><div class="section"><h4>type:regexp<a name="nulltypenull:nullregexpnull"></a></h4><p>For strings, requires a predefined format according to the regular expression.}</p>
<ul>
  <li><b>pattern</b> A regular expression pattern.</li>
</ul><p>A validator that validates strings containing a sequence of as , bs and cs.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;A-B-C validator&quot;,
  &quot;type&quot; :&quot;regexp&quot;,
  &quot;pattern&quot; : &quot;a*b*c*&quot; }
</pre></div></div><div class="section"><h4>type:content<a name="nulltypenull:nullcontentnull"></a></h4><p>Note that in contrast with the properties rule (for objects), you can specify in a single rule what all property values of an object should look like.</p>
<ul>
  <li><b>rule</b> The rule that specifies how the content of a complex structure - an array or the property values of an object - should behave.</li>
</ul></div><div class="section"><h4>type:properties<a name="nulltypenull:nullpropertiesnull"></a></h4><p>This predicate is only applicable (and only has meaning) on object data structures. It will fail on any other type.</p>
<ul>
  <li><b>pairs</b> A list of key/value pair descriptions. Note that in contrast with the content rule above you can specify a rule per attribute. Each description contains three properties:</li>
  <li><b>key</b> The key string.</li>
  <li><b>optional</b> A boolean indicating whether this property is optional or not.</li>
  <li><b>rule</b> A validation rule that should be applied to the properties value.</li>
</ul><p>It will validate objects looking like this:</p>
<div class="source"><pre class="prettyprint">Example data structure that will be validated:
{{&quot;name&quot;:&quot;Bruno Ranschaert&quot;, &quot;country&quot;:&quot;Belgium&quot;, &quot;salary&quot;:13.0 }}

The validator looks like this:
{ &quot;name&quot; :&quot;Contact spec.&quot;,
  &quot;type&quot; :&quot;properties&quot;,
  &quot;pairs&quot; : [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
              {&quot;key&quot;:&quot;country&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
              {&quot;key&quot;:&quot;salary&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;decimal&quot; } } ] }
</pre></div></div></div><div class="section"><h3>Structural Rules<a name="Structural_Rules"></a></h3><div class="section"><h4>type:ref<a name="nulltypenull:nullrefnull"></a></h4><p>This rule lets you specify recursive rules. Be careful not to create infinite validations which is quite possible using this rule. The containing rule will be fetched just before validation, there will be no error message during construction when the containing rule is not found. The rule will fail in this case. If there are several rules with the same name, only the last one with that name is remembered and the last one will be used.</p>
<ul>
  <li>* The name of the rule to invoke.</li>
</ul><p>A validator that validates nested lists of integers. A ref is needed to enable recursion in the validator.</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;Nested list of integers&quot;,
  &quot;type&quot; :&quot;and&quot;,
  &quot;rules&quot; : [ 
     {&quot;type&quot;:&quot;array&quot;},
     {&quot;type&quot;:&quot;content&quot;,
      &quot;rule&quot;: {
         &quot;type&quot; : &quot;or&quot;,
         &quot;rules&quot;: [
            {&quot;type&quot;:&quot;int&quot;}, 
            {&quot;type&quot;:&quot;ref&quot;, &quot;*&quot; : &quot;Nested list of integers&quot; } ] } } ] }
</pre></div></div><div class="section"><h4>type:let<a name="nulltypenull:nullletnull"></a></h4><p>Lets you specify a number of named rules in advance. It is a convenience rule that lets you specify a list of global shared validation rules in advance before using these later on. It becomes possible to first define a number of recurring types and then give the starting point. It is a utility rule that lets you tackle more complex validations. Note that it makes no sense to define anonymous rules inside the list, it is impossible to refer to these later on.</p>
<ul>
  <li><b>rules</b> A list of rules.</li>
  <li>* : The name of the rule that should be used.</li>
</ul><p>Example</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;Let test -  a's or b's&quot;,
  &quot;type&quot; :&quot;let&quot;,
  &quot;*&quot;    : &quot;start&quot;,
  &quot;rules&quot; : 
     [{&quot;name&quot;:&quot;start&quot;, &quot;type&quot;:&quot;or&quot;, &quot;rules&quot;:[{&quot;type&quot;:&quot;ref&quot;, &quot;*&quot;:&quot;a&quot;}, 
                                             {&quot;type&quot;:&quot;ref&quot;, &quot;*&quot;:&quot;b&quot;}]},
      {&quot;name&quot;:&quot;a&quot;, &quot;type&quot;:&quot;regexp&quot;, &quot;pattern&quot;:&quot;a*&quot;},
      {&quot;name&quot;:&quot;b&quot;, &quot;type&quot;:&quot;regexp&quot;, &quot;pattern&quot;:&quot;b*&quot; } ] }
</pre></div></div><div class="section"><h4>type:custom<a name="nulltypenull:nullcustomnull"></a></h4><p>An instance of this validator will be created and will be given a hash map of validations. A custom validator should be derived from CustomValidator.</p>
<ul>
  <li><b>class</b> The fully qualified class name of the validator.}</li>
</ul><p>Example</p>
<div class="source"><pre class="prettyprint">{ &quot;name&quot; :&quot;Custom test&quot;,
  &quot;type&quot; :&quot;custom&quot;,
  &quot;class&quot; : &quot;com.sdicons.json.validator.MyValidator&quot; }
</pre></div><p>The validator class looks like this:</p>
<div class="source"><pre class="prettyprint">public class MyValidator
extends CustomValidator
{
    public MyValidator(
       String aName, JSONObject aRule,
       HashMap&amp;lt;String, Validator&gt; aRuleset)
    {
        super(aName, aRule, aRuleset);
    }

    public void validate(JSONValue aValue) 
    throws ValidationException
    {
        // Do whatever you need to do on aValue ...
        // If validation is ok, simply return.
        // If validation fails, you can use:
        // fail(JSONValue aValue) or 
        //    fail(String aReason, JSONValue aValue)
        // to throw the Validation exception for you.
    }
}
</pre></div></div><div class="section"><h4>type:switch<a name="nulltypenull:nullswitchnull"></a></h4><p>The switch validator is a convenience one. It is a subset of the or validator, but the problem with the or validator is that it does a bad job for error reporting when things go wrong. The reason is that all rules fail and it is not always clear why, because the reason a rule fails might be some levels deeper. The switch validator selects a validator based on the value of a property encountered in the value being validated. The error produced will be the one of the selected validator. The first applicable validator is used, the following ones are ignored.</p><p>Example: The top level rule in the validator for validators contains a switch that could have been described by an or, but the switch gives better error messages.</p>
<ul>
  <li><b>key</b> The key name of the object that will act as the discriminator.</li>
  <li><b>case</b> A list of objects containing the parameters values and rule. The first one is a list of values the second one a validator rule.</li>
</ul><h1>3. Validator for Validators</h1><p>This example validator is able to validate validators. The example is a bit contrived because the validators really dont need validation because it is built-in in the construction. It is interesting because it can serve as a definition of how to construct a validator.</p>
<div class="source"><pre class="prettyprint">{
   &quot;name&quot;:&quot;Validator validator&quot;,
   &quot;type&quot;:&quot;let&quot;,
   &quot;*&quot;:&quot;rule&quot;,
   &quot;rules&quot;:
   [
      ########## START ##########
      {
         &quot;name&quot;:&quot;rule&quot;,
         &quot;type&quot;:&quot;switch&quot;,
         &quot;key&quot;:&quot;type&quot;,
         &quot;case&quot;:
         [
            {&quot;values&quot;:[&quot;true&quot;, &quot;false&quot;, &quot;null&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;atom-rule&quot;}},
            {&quot;values&quot;:[&quot;int&quot;, &quot;complex&quot;, &quot;array&quot;, &quot;object&quot;, &quot;simple&quot;,
                       &quot;null&quot;, &quot;bool&quot;, &quot;string&quot;, &quot;number&quot;, &quot;decimal&quot;],
                       &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;type-rule&quot;}},
            {&quot;values&quot;:[&quot;not&quot;, &quot;content&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;rules-rule&quot;}},
            {&quot;values&quot;:[&quot;and&quot;, &quot;or&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;ruleset-rule&quot;}},
            {&quot;values&quot;:[&quot;length&quot;, &quot;range&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;minmax-rule&quot;}},
            {&quot;values&quot;:[&quot;ref&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;ref-rule&quot;}},
            {&quot;values&quot;:[&quot;custom&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;custom-rule&quot;}},
            {&quot;values&quot;:[&quot;enum&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;enum-rule&quot;}},
            {&quot;values&quot;:[&quot;let&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;let-rule&quot;}},
            {&quot;values&quot;:[&quot;regexp&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;regexp-rule&quot;}},
            {&quot;values&quot;:[&quot;properties&quot;], &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;properties-rule&quot;}},
            {&quot;values&quot;:[&quot;switch&quot;], &quot;rule&quot;: {&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;switch-rule&quot;}}
         ]
      },
      ########## RULESET ##########
      {
         &quot;name&quot;:&quot;ruleset&quot;,
         &quot;type&quot;:&quot;and&quot;,
         &quot;rules&quot;:[{&quot;type&quot;:&quot;array&quot;},{&quot;type&quot;:&quot;content&quot;,&quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;rule&quot;}}]
      },
      ########## PAIRS ##########
      {
         &quot;name&quot;:&quot;pairs&quot;,
         &quot;type&quot;:&quot;and&quot;,
         &quot;rules&quot;:[{&quot;type&quot;:&quot;array&quot;},{&quot;type&quot;:&quot;content&quot;,&quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;pair&quot;}}]
      },
      ########## PAIR ##########
      {
         &quot;name&quot;:&quot;pair&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;key&quot;,      &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;optional&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;bool&quot;}},
           {&quot;key&quot;:&quot;rule&quot;,     &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;rule&quot;}}
          ]
      },
      ########## CASES ##########
      {
         &quot;name&quot;:&quot;cases&quot;,
         &quot;type&quot;:&quot;and&quot;,
         &quot;rules&quot;:[{&quot;type&quot;:&quot;array&quot;},{&quot;type&quot;:&quot;content&quot;,&quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;case&quot;}}]
      },
      ########## CASE ##########
      {
         &quot;name&quot;:&quot;case&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;values&quot;,   &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;array&quot;}},
           {&quot;key&quot;:&quot;rule&quot;,     &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;rule&quot;}}
          ]
      },
      ########## ATOM ##########
      {
         &quot;name&quot;:&quot;atom-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:
                          {&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;true&quot;, &quot;false&quot;, &quot;null&quot;]}}
          ]
      },
      ########## RULESET-RULE ##########
      {
         &quot;name&quot;:&quot;ruleset-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;,  &quot;optional&quot;:true,  &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;,  &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;and&quot;, &quot;or&quot;]}},
           {&quot;key&quot;:&quot;rules&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;ruleset&quot;}}
          ]
      },
      ########## RULES-RULE ##########
      {
         &quot;name&quot;:&quot;rules-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true,  &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;not&quot;, &quot;content&quot;]}},
           {&quot;key&quot;:&quot;rule&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;rule&quot;}}
          ]
      },
      ########## TYPE ##########
      {
         &quot;name&quot;:&quot;type-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,
                    &quot;values&quot;:[&quot;int&quot;, &quot;complex&quot;, &quot;array&quot;, &quot;object&quot;, 
                    &quot;simple&quot;, &quot;null&quot;, &quot;bool&quot;, &quot;string&quot;, &quot;number&quot;, 
                    &quot;decimal&quot;]}}
          ]
      },
      ########## MINMAX ##########
      {
         &quot;name&quot;:&quot;minmax-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;length&quot;, &quot;range&quot;]}},
           {&quot;key&quot;:&quot;min&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;number&quot;}},
           {&quot;key&quot;:&quot;max&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;number&quot;}}
          ]
      },
      ########## REF ##########
      {
         &quot;name&quot;:&quot;ref-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;ref&quot;]}},
           {&quot;key&quot;:&quot;*&quot;,    &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}}
          ]
      },
      ########## CUSTOM ##########
      {
         &quot;name&quot;:&quot;custom-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;custom&quot;]}},
           {&quot;key&quot;:&quot;class&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}}
          ]
      },
      ########## ENUM ##########
      {
         &quot;name&quot;:&quot;enum-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;enum&quot;]}},
           {&quot;key&quot;:&quot;values&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;array&quot;}}
          ]
      },
      ########## LET ##########
      {
         &quot;name&quot;:&quot;let-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;,  &quot;optional&quot;:true,  &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;,  &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;let&quot;]}},
           {&quot;key&quot;:&quot;rules&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;ruleset&quot;}},
           {&quot;key&quot;:&quot;*&quot;,     &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}}
          ]
      },
      ########## REGEXP ##########
      {
         &quot;name&quot;:&quot;regexp-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;, &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;regexp&quot;]}},
           {&quot;key&quot;:&quot;pattern&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}}
          ]
      },
      ########## PROPERTIES ##########
      {
         &quot;name&quot;:&quot;properties-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;,  &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;,  &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;properties&quot;]}},
           {&quot;key&quot;:&quot;pairs&quot;, &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;pairs&quot;}}
          ]
      },
      ########## SWITCH ##########
      {
         &quot;name&quot;:&quot;switch-rule&quot;,
         &quot;type&quot;:&quot;properties&quot;,
         &quot;pairs&quot; :
          [{&quot;key&quot;:&quot;name&quot;,  &quot;optional&quot;:true, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;type&quot;,  &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;enum&quot;,&quot;values&quot;:[&quot;switch&quot;]}},
           {&quot;key&quot;:&quot;key&quot;,   &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;string&quot;}},
           {&quot;key&quot;:&quot;case&quot;,  &quot;optional&quot;:false, &quot;rule&quot;:{&quot;type&quot;:&quot;ref&quot;,&quot;*&quot;:&quot;cases&quot;}}
          ]
      }
   ]
}
</pre></div></div></div></div>
                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2012.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
